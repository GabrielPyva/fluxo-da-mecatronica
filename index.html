<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grafo de Depend√™ncias</title>
  <!-- D3 (via CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <aside>
    <h1>Engenharia Mecatr√¥nica - UnB</h1>
    <div class="sub">Mapa interativo e animado de pr√©-requisitos. Pesquise, filtre e explore cadeias.</div>
    <div class="sub">ATEN√á√ÉO: Este aplicativo est√° com os dados do curr√≠culo mais recente do curso, ou seja, a grade curricular de 2022.</div>

    <div class="card">
      <div class="row" style="gap:8px">
        <input id="search" type="text" placeholder="Pesquise um curso" list="course-suggestions" />
        <datalist id="course-suggestions"></datalist>
        <button id="btn-search" class="btn" title="Focus search result">üîé</button>
      </div>
      <div class="note" style="margin-top:8px">Dica: Clique em uma mat√©ria para focar suas vizinhas. Clique duas vezes no espa√ßo vazio para redefinir. Role para ampliar. Clique e arraste para mover.</div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between; margin-bottom:8px">
        <div class="chip" title="Estimated suggested term"><b>Semestre</b></div>
        <div class="chip" title="Total nodes">Mat√©rias: <span id="nodeCount">0</span></div>
      </div>
      <div class="slider-row" style="margin-top:4px">
        <label for="depth">Profundidade</label>
        <input id="depth" type="range" min="1" max="8" value="3" />
        <span id="depthVal" class="chip">3</span>
      </div>
      <div class="row" style="margin-top:8px; gap:8px">
        <button id="btn-prereq" class="btn group" title="Mostrar cadeia de pr√©-requisitos">‚¨Ö Pr√©-requisitos</button>
        <button id="btn-depend" class="btn group" title="Mostrar cadeia de dependentes">Dependentes ‚û°</button>
      </div>
      <div class="row" style="margin-top:8px; gap:8px">
        <button id="btn-neighbors" class="btn group" title="Vizinhos (1 hop)">Rela√ß√µes Diretas</button>
        <button id="btn-showAll" class="btn group" title="Mostrar Tudo">Redefinir</button>
      </div>
      <div class="row" style="margin-top:8px; gap:8px">
        <button id="btn-organize-sem" class="btn group" title="Organizar por Semestres">Organizar por Semestres</button>
      </div>
      <div class="row toggle" style="margin-top:10px">
        <input type="checkbox" id="chk-isolate" />
        <label for="chk-isolate">Isolar mat√©rias filtradas</label>
      </div>
      <div class="row toggle" style="margin-top:6px">
        <input type="checkbox" id="chk-labels" checked />
        <label for="chk-labels">Mostrar nomes</label>
      </div>
      <div class="row toggle" style="margin-top:6px">
        <input type="checkbox" id="chk-arrows" checked />
        <label for="chk-arrows">Mostrar setas (pr√©-requisitos ‚Üí dependentes)</label>
      </div>
      <div class="row toggle" style="margin-top:6px">
        <input type="checkbox" id="chk-collide" checked />
        <label for="chk-collide">Preven√ß√£o de colis√µes</label>
      </div>
    </div>

    <div class="card">
      <div style="font-weight:700; margin-bottom:6px">Departamentos</div>
      <div class="legend">
        <span class="chip">Matem√°tica</span>
        <span class="chip">Ci√™ncia da Computa√ß√£o</span>
        <span class="chip">F√≠sica</span>
        <span class="chip">Engenharia El√©trica</span>
        <span class="chip">Qu√≠mica</span>
        <span class="chip">Engenharia Mec√¢nica</span>
        <span class="chip">Outros</span>
      </div>
      <div class="note" style="margin-top:8px">Cores representam departamentos; outline thickness suggests in‚Äëdegree (how many courses depend on it).</div>
    </div>

    <div class="footer">Replace the <span class="kbd">DATA</span> section in the code with your full curriculum.
    </div>
  </aside>
  <main>
    <button id="btn-collapse" class="btn" title="Recolher painel">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
    </button>
    <svg id="graph"></svg>
    <div class="tooltip" id="tooltip"></div>
    <div class="floating-bar">
      <span class="kbd">Clique</span>
      <span class="kbd">Arraste</span>
      <span class="kbd">Scroll = Zoom</span>
      <span class="kbd">Duplo‚Äëclique = Reset</span>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
